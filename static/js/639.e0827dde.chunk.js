"use strict";(self.webpackChunkmovie_search_app=self.webpackChunkmovie_search_app||[]).push([[639],{639:(e,t,r)=>{r.r(t),r.d(t,{default:()=>U});var s=r(5043);const o=e=>{let t;const r=new Set,s=(e,s)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=s?s:"object"!==typeof o||null===o)?o:Object.assign({},t,o),r.forEach(r=>r(t,e))}},o=()=>t,n={setState:s,getState:o,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(s,o,n);return n},n=e=>e;const a=e=>{const t=(e=>e?o(e):o)(e),r=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const r=s.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return s.useDebugValue(r),r}(t,e);return Object.assign(r,t),r};var i;const l=(i=(e,t)=>({searchItem:"",movies:[],loading:!1,error:null,setSearchItem:t=>e({searchItem:t}),clearMovies:()=>e({searchItem:"",movies:[],error:null}),searchMovies:async()=>{const r=t();await(async(e,t)=>{const r=`http://www.omdbapi.com/?apikey=2803613a&s=${e}`;if(e){t({loading:!0,error:null});try{const e=await fetch(r);if(!e.ok)throw new Error("Network response was not ok");const s=await e.json();"True"===s.Response&&t({movies:s.Search,loading:!1,error:null})}catch(s){console.error("Fetch movie error:",s.message),t({movies:[],loading:!1,error:s.message||"An unexpected error occurred."})}}else t({movies:[],loading:!1,error:null})})(r.searchItem,e)}}))?a(i):a;var c=r(579),d=r(2190),h=r(4930),u=r(293),p=r(9674),m=r(8676),x=r(1051);class f extends s.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,r=(0,m.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function g(e){let{children:t,isPresent:r,anchorX:o,root:n}=e;const a=(0,s.useId)(),i=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,s.useContext)(x.Q);return(0,s.useInsertionEffect)(()=>{const{width:e,height:t,top:s,left:c,right:h}=l.current;if(r||!i.current||!e||!t)return;const u="left"===o?`left: ${c}`:`right: ${h}`;i.current.dataset.motionPopId=a;const p=document.createElement("style");d&&(p.nonce=d);const m=n??document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${a}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${u}px !important;\n            top: ${s}px !important;\n          }\n        `),()=>{m.removeChild(p),m.contains(p)&&m.removeChild(p)}},[r]),(0,c.jsx)(f,{isPresent:r,childRef:i,sizeRef:l,children:s.cloneElement(t,{ref:i})})}const v=e=>{let{children:t,initial:r,isPresent:o,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:l,anchorX:d,root:u}=e;const m=(0,h.M)(b),x=(0,s.useId)();let f=!0,v=(0,s.useMemo)(()=>(f=!1,{id:x,initial:r,isPresent:o,custom:a,onExitComplete:e=>{m.set(e,!0);for(const t of m.values())if(!t)return;n&&n()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[o,m,n]);return i&&f&&(v={...v}),(0,s.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[o]),s.useEffect(()=>{!o&&!m.size&&n&&n()},[o]),"popLayout"===l&&(t=(0,c.jsx)(g,{isPresent:o,anchorX:d,root:u,children:t})),(0,c.jsx)(p.t.Provider,{value:v,children:t})};function b(){return new Map}var y=r(8917);const w=e=>e.key||"";function j(e){const t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}const C=e=>{let{children:t,custom:r,initial:o=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:l=!1,anchorX:p="left",root:m}=e;const[x,f]=(0,y.xQ)(l),g=(0,s.useMemo)(()=>j(t),[t]),b=l&&!x?[]:g.map(w),C=(0,s.useRef)(!0),S=(0,s.useRef)(g),N=(0,h.M)(()=>new Map),[k,R]=(0,s.useState)(g),[z,A]=(0,s.useState)(g);(0,u.E)(()=>{C.current=!1,S.current=g;for(let e=0;e<z.length;e++){const t=w(z[e]);b.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[z,b.length,b.join("-")]);const I=[];if(g!==k){let e=[...g];for(let t=0;t<z.length;t++){const r=z[t],s=w(r);b.includes(s)||(e.splice(t,0,r),I.push(r))}return"wait"===i&&I.length&&(e=I),A(j(e)),R(g),null}const{forceRender:P}=(0,s.useContext)(d.L);return(0,c.jsx)(c.Fragment,{children:z.map(e=>{const t=w(e),s=!(l&&!x)&&(g===z||b.includes(t));return(0,c.jsx)(v,{isPresent:s,initial:!(C.current&&!o)&&void 0,custom:r,presenceAffectsLayout:a,mode:i,root:m,onExitComplete:s?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(P?.(),A(S.current),l&&f?.(),n&&n())},anchorX:p,children:e},t)})})};var S=r(5487),N=r(8387),k=r(1807),R=r(7018),z=r(7194),A=r(9857),I=r(2536);function P(e){return(0,I.Ay)("MuiFab",e)}const E=(0,A.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var M=r(8790),$=r(2620),F=r(1612),L=r(4412),T=r(9192);const V=(0,$.Ay)(R.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,M.A)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,z.A)(r.size)}`],"inherit"===r.color&&t.colorInherit,t[(0,z.A)(r.size)],t[r.color]]}})((0,F.A)(e=>{let{theme:t}=e;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.grey[900]:t.palette.getContrastText?.(t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${E.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),(0,F.A)(e=>{let{theme:t}=e;return{variants:[...Object.entries(t.palette).filter((0,L.A)(["dark","contrastText"])).map(e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars||t).palette[r].contrastText,backgroundColor:(t.vars||t).palette[r].main,"&:hover":{backgroundColor:(t.vars||t).palette[r].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r].main}}}}})]}}),(0,F.A)(e=>{let{theme:t}=e;return{[`&.${E.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),D=s.forwardRef(function(e,t){const r=(0,T.b)({props:e,name:"MuiFab"}),{children:s,className:o,color:n="default",component:a="button",disabled:i=!1,disableFocusRipple:l=!1,focusVisibleClassName:d,size:h="large",variant:u="circular",...p}=r,m={...r,color:n,component:a,disabled:i,disableFocusRipple:l,size:h,variant:u},x=(e=>{const{color:t,variant:r,classes:s,size:o}=e,n={root:["root",r,`size${(0,z.A)(o)}`,"inherit"===t?"colorInherit":t]},a=(0,k.A)(n,P,s);return{...s,...a}})(m);return(0,c.jsx)(V,{className:(0,N.A)(x.root,o),component:a,disabled:i,focusRipple:!l,focusVisibleClassName:(0,N.A)(x.focusVisible,d),ownerState:m,ref:t,...p,classes:x,children:s})});const O=(0,r(9992).A)((0,c.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),B=e=>{let{onOpenSearchBar:t}=e;return(0,c.jsx)("div",{className:"flex justify-center items-center p-10",children:(0,c.jsx)(S.P.div,{className:"focus:outline-none focus:ring-4 focus:ring-green-400 focus:ring-opacity-75 rounded-full",animate:{x:[2,3,-3,3,-3,2],rotate:[2,3,-3,3,-3,2],boxShadow:["0 0px 0px rgba(0, 0, 0, 0.0)","0 0px 20px rgba(76, 175, 80, 0.6)","0 0px 0px rgba(0, 0, 0, 0.0)"]},transition:{duration:1.2,ease:"easeInOut",repeat:1/0,repeatType:"loop"},children:(0,c.jsxs)(D,{variant:"extended",onClick:t,sx:{backgroundColor:"#4CAF50",color:"white","&:hover":{backgroundColor:"#45a049"},padding:"15px 30px",fontSize:"1.25rem",borderRadius:"50px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,c.jsx)(O,{sx:{mr:1}}),"Search"]})})})};var W=r(1283);const X=()=>{const e={animate:{rotate:360,transition:{repeat:1/0,ease:"linear",duration:1.2}}};return(0,c.jsxs)("div",{className:"flex justify-center items-center h-24",children:[(0,c.jsx)(S.P.div,{className:"relative w-16 h-16 rounded-full flex items-center justify-center",variants:e,animate:"animate",style:{border:"4px solid rgba(59, 130, 246, 0.2)",borderTop:"4px solid #3B82F6",borderRight:"4px solid #3B82F6",boxShadow:"0 0 15px rgba(59, 130, 246, 0.4)"}}),(0,c.jsx)("div",{className:"absolute text-blue-500 text-xs font-semibold",children:"Loading"})]})},_=e=>{let{movies:t,loading:r,error:s,onRouteChange:o}=e;return(0,c.jsx)("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 w-full max-w-2xl bg-white p-4 shadow-xl rounded-lg z-[51] overflow-y-auto max-h-96 custom-scrollbar",children:r?(0,c.jsxs)("div",{className:"py-8 text-center",children:[(0,c.jsx)(X,{}),(0,c.jsx)("p",{className:"mt-4 text-gray-600 text-lg",children:"Searching for movies..."})]}):s?(0,c.jsxs)("div",{className:"py-8 text-center text-red-500 text-lg",children:[(0,c.jsxs)("p",{children:["Error: ",s]}),(0,c.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Please try again later."})]}):t&&t.length>0?(0,c.jsx)("ul",{className:"space-y-4",children:t.map(e=>(0,c.jsx)(W.N_,{to:`/movie/${e.imdbID}`,onClick:o,children:(0,c.jsxs)("li",{className:"flex items-start p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-200 ease-in-out cursor-pointer",children:[(0,c.jsx)("img",{src:"N/A"!==e.Poster?e.Poster:"",alt:e.Title,className:"w-16 h-24 object-cover rounded-md mr-4 flex-shrink-0 shadow-md"}),(0,c.jsxs)("div",{className:"flex-grow",children:[(0,c.jsx)("h3",{className:"text-xl font-bold text-gray-800 leading-tight mb-1",children:e.Title}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:e.Year})]})]})},e.imdbID))}):(0,c.jsxs)("div",{className:"py-8 text-center text-gray-500 text-lg",children:[(0,c.jsx)("p",{children:"Start typing to search for movies!"}),(0,c.jsx)("p",{className:"mt-2 text-sm",children:"No results found for your query."})]})})},H=e=>{let{onClose:t,searchItem:r,handleChangeValue:s,handleKeyPress:o,handleSearchMovies:n}=e;return(0,c.jsxs)("div",{className:"fixed inset-0 z-40 flex flex-col items-center justify-start",children:[(0,c.jsx)(S.P.div,{className:"absolute inset-0 bg-black bg-opacity-50",variants:{visible:{opacity:1},hidden:{opacity:0}},initial:"hidden",animate:"visible",exit:"hidden",onClick:t}),(0,c.jsx)(S.P.div,{className:"w-full max-w-2xl bg-white p-4 shadow-lg rounded-b-lg relative z-50 transform pt-2 sm:pt-4",variants:{hidden:{y:"-100%",opacity:0,transition:{type:"spring",stiffness:100,damping:20}},visible:{y:"0%",opacity:1,transition:{type:"spring",stiffness:100,damping:20,delay:.1}}},initial:"hidden",animate:"visible",exit:"hidden",children:(0,c.jsxs)("div",{className:"relative flex items-center justify-center max-w-xl mx-auto",children:[(0,c.jsx)("input",{type:"text",value:r,onChange:s,onKeyDown:o,id:"value",placeholder:"Search for movies...",className:"w-full h-12 px-4 pr-24 text-lg rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300 ease-in-out"}),(0,c.jsx)("button",{onClick:n,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 md:py-2 md:px-6 rounded-full transition duration-300 ease-in-out",children:"Search"})]})})]})};var K=r(2873);const Q={show:()=>{throw new Error("Not supported on server side")},close:()=>{throw new Error("Not supported on server side")}};const U=()=>{const[e,t]=(0,s.useState)(!1),r=s.useContext(K.K)||Q,o=l(e=>e.searchItem),n=l(e=>e.setSearchItem),a=l(e=>e.searchMovies),i=l(e=>e.movies),d=l(e=>e.clearMovies),h=l(e=>e.loading),u=l(e=>e.error);return(0,c.jsxs)("div",{className:"flex justify-center w-screen",children:[(0,c.jsx)(B,{onOpenSearchBar:()=>t(!0)}),(0,c.jsx)(C,{children:e&&(0,c.jsx)(H,{onClose:()=>{t(!1),n(""),d()},searchItem:o,handleChangeValue:e=>{n(e.target.value)},handleKeyPress:e=>{"Enter"===e.key&&a()},handleSearchMovies:()=>{""!==o.trim()?a():r.show("Please enter a search term.",{severity:"warning",autoHideDuration:3e3})}})}),(0,c.jsx)(C,{children:e&&o&&(0,c.jsx)(_,{movies:i,loading:h,error:u,onRouteChange:d})})]})}}}]);
//# sourceMappingURL=639.e0827dde.chunk.js.map